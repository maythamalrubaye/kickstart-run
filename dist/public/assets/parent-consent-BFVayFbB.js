import{c as u,u as f,r as c,a as h,j as e,C as i,b as d,d as j,e as g,f as p,g as b,B as y}from"./index-DsxZqrEm.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=u("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function v(){const o=f(),{userId:a,token:r}=o,[s,n]=c.useState(null),[m,l]=c.useState(!0);c.useEffect(()=>{a&&r&&x()},[a,r]);const x=async()=>{try{l(!0);const t=await h("GET",`/api/parent-consent/${a}/${r}`);n({success:!0,message:t.message,childName:t.childName})}catch(t){n({success:!1,message:"Consent verification failed",error:t.message||"Invalid or expired consent link"})}finally{l(!1)}};return m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary via-secondary to-accent flex items-center justify-center p-4",children:e.jsx(i,{className:"w-full max-w-md",children:e.jsxs(d,{className:"flex flex-col items-center justify-center p-8",children:[e.jsx(j,{className:"w-12 h-12 text-primary animate-pulse mb-4"}),e.jsx("p",{className:"text-lg",children:"Verifying consent..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary via-secondary to-accent flex items-center justify-center p-4",children:e.jsxs(i,{className:"w-full max-w-md",children:[e.jsxs(g,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s!=null&&s.success?e.jsx("div",{className:"w-full h-full bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:e.jsx(p,{className:"w-8 h-8 text-green-600"})}):e.jsx("div",{className:"w-full h-full bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:e.jsx(N,{className:"w-8 h-8 text-red-600"})})}),e.jsx(b,{className:"text-xl",children:s!=null&&s.success?"Consent Confirmed!":"Consent Failed"})]}),e.jsxs(d,{className:"space-y-6",children:[s!=null&&s.success?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-950 p-4 rounded-lg border border-green-200 dark:border-green-800",children:e.jsxs("p",{className:"text-green-800 dark:text-green-200",children:[e.jsxs("strong",{children:[s.childName,"'s"]})," account has been successfully activated!"]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"What happens next?"}),e.jsxs("ul",{className:"text-left text-sm text-muted-foreground space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium",children:"✓"}),"Your child can now log in to KickStart Run"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium",children:"✓"}),"All features are now available for use"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium",children:"✓"}),"You'll receive weekly activity reports via email"]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Your Parental Rights"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"You can access, modify, or delete your child's data at any time. Contact contact@kickstartrun.com for any privacy concerns."})]})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"bg-red-50 dark:bg-red-950 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("p",{className:"text-red-800 dark:text-red-200 mb-2",children:e.jsx("strong",{children:"Unable to verify consent"})}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:(s==null?void 0:s.error)||"The consent link may be invalid or expired."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"What you can do:"}),e.jsxs("ul",{className:"text-left text-sm text-muted-foreground space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-muted text-muted-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium",children:"1"}),"Check if the email link was copied correctly"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-muted text-muted-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium",children:"2"}),"Contact support if you continue to have issues"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-muted text-muted-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium",children:"3"}),"Your child can request a new consent email"]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(y,{onClick:()=>window.location.href="/",className:"w-full",children:s!=null&&s.success?"Continue to Login":"Back to Home"})}),e.jsx("div",{className:"text-center text-xs text-muted-foreground",children:"Questions? Contact contact@kickstartrun.com"})]})]})})}export{v as default};
